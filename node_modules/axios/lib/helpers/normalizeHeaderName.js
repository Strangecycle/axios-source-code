'use strict';

var utils = require('../utils');

module.exports = function normalizeHeaderName(headers, normalizedName) {
  /*
    这里会把 config.headers 中的所有属性进行遍历
    当 config.headers 中某个属性与预设的两个属性名相等时，则使用预设的属性名，默认是 Accept 和 Content-Type
  */
  utils.forEach(headers, function processHeader(value, name) {
    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {
      headers[normalizedName] = value;
      delete headers[name];
    }
  });
};
