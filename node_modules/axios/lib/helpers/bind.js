'use strict';

module.exports = function bind(fn, thisArg) {
  // bind() 是一个闭包，返回一个方法
  // 这个方法就是用于 axios() 直接调用
  return function wrap() {
    // 类数组转为真实数组
    var args = new Array(arguments.length);
    for (var i = 0; i < args.length; i++) {
      args[i] = arguments[i];
    }
    // fn 实际传入并执行的是 Axios.prototype.request
    // thisArg 传入的是 Axios 的实例对象
    // 最终会将 Axios.prototype.request 执行环境的 this 指向 Axios 的实例对象，也就是外部传入的 context
    // axios() 实际上是通过一个闭包代理执行了 Axios.prototype.request
    return fn.apply(thisArg, args);
  };
};
